{"remainingRequest":"D:\\vuejs-learning\\MVEN-StackProject\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\vuejs-learning\\MVEN-StackProject\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\vuejs-learning\\MVEN-StackProject\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vuejs-learning\\MVEN-StackProject\\client\\src\\views\\EditPost.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vuejs-learning\\MVEN-StackProject\\client\\src\\views\\EditPost.vue","mtime":1647328378000},{"path":"D:\\vuejs-learning\\MVEN-StackProject\\client\\babel.config.js","mtime":1647319112000},{"path":"D:\\vuejs-learning\\MVEN-StackProject\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vuejs-learning\\MVEN-StackProject\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vuejs-learning\\MVEN-StackProject\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vuejs-learning\\MVEN-StackProject\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3Z1ZWpzLWxlYXJuaW5nL01WRU4tU3RhY2tQcm9qZWN0L2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEFQSSBmcm9tICcuLi9hcGknOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJ1bGVzOiBbZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuICEhdmFsdWUgfHwgIlRoaXMgaXMgYSByZXF1aXJlZCBmaWVsZCI7CiAgICAgIH1dLAogICAgICBwb3N0OiB7CiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIGNhdGVnb3J5OiAiIiwKICAgICAgICBjb250ZW50OiAiIiwKICAgICAgICBpbWFnZTogIiIKICAgICAgfSwKICAgICAgaW1hZ2U6ICIiCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJlc3BvbnNlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIEFQSS5nZXRQb3N0QnlJRChfdGhpcy4kcm91dGUucGFyYW1zLmlkKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX3RoaXMucG9zdCA9IHJlc3BvbnNlOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgc2VsZWN0RmlsZTogZnVuY3Rpb24gc2VsZWN0RmlsZShmaWxlKSB7CiAgICAgIHRoaXMuaW1hZ2UgPSBmaWxlWzBdOwogICAgfSwKICAgIHVwZGF0ZUZvcm06IGZ1bmN0aW9uIHVwZGF0ZUZvcm0oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGZvcm1EYXRhLCByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnaW1hZ2UnLCBfdGhpczIuaW1hZ2UpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd0aXRsZScsIF90aGlzMi5wb3N0LnRpdGxlKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnY2F0ZWdvcnknLCBfdGhpczIucG9zdC5jYXRlZ29yeSk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2NvbnRlbnQnLCBfdGhpczIucG9zdC5jb250ZW50KTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnb2xkX2ltYWdlJywgX3RoaXMyLnBvc3QuaW1hZ2UpOwoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gQVBJLnVwZGF0ZVBvc3QoX3RoaXMyLiRyb3V0ZS5wYXJhbXMuaWQsIGZvcm1EYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUnLAogICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5tZXNzYWdlCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACAA,MADA,kBACA;AACA;AACAC;AAAA;AAAA,QADA;AAEAC;AACAC,iBADA;AAEAC,oBAFA;AAGAC,mBAHA;AAIAC;AAJA,OAFA;AAQAA;AARA;AAUA,GAZA;AAaAC,SAbA,qBAaA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACAC,uCADA;;AAAA;AACAC,sBADA;AAEA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,GAhBA;AAiBAC;AACAC,cADA,sBACAC,IADA,EACA;AACA;AACA,KAHA;AAIAC,cAJA,wBAIA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACAC,wBADA,GACA,cADA;AAEAA;AACAA;AACAA;AACAA;AACAA;;AANA,qBAOA,4BAPA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBASAN,iDATA;;AAAA;AASAC,wBATA;;AAUA;AAAAM;AAAAC;AAAAC;AAAA;AAAA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAhBA;AAjBA","names":["data","rules","post","title","category","content","image","created","API","response","methods","selectFile","file","updateForm","formData","name","params","message"],"sourceRoot":"src/views","sources":["EditPost.vue"],"sourcesContent":["<template> \r\n    <v-container>\r\n        <v-row no-gutters>\r\n            <v-col sm=\"10\" class=\"mx-auto\">\r\n                <v-card class=\"pa-5\">\r\n                    <v-card-title>Edit Post</v-card-title>\r\n                    <v-divider></v-divider>\r\n                    <v-form ref=\"form\" @submit.prevent=\"updateForm\" class=\"pa-5\" enctype=\"multipart/form-data\">\r\n                    <v-text-field label=\"Title\" v-model=\"post.title\" prepend-icon=\"mdi-note\" :rules=\"rules\">\r\n                    </v-text-field>\r\n                    <v-text-field label=\"Category\"  v-model=\"post.category\" prepend-icon=\"mdi-view-list\" :rules=\"rules\">\r\n                    </v-text-field>\r\n                    <v-textarea label=\"Content\"  v-model=\"post.content\" prepend-icon=\"mdi-note-plus\" :rules=\"rules\"></v-textarea>\r\n                    <v-file-input @change=\"selectFile\"  show-size counter multiple label=\"Select Image\"></v-file-input>\r\n                    <v-img :src=\"`/${post.image}`\" width=\"120\"></v-img>\r\n                    <v-btn type=\"submit\" class=\"mt-3\" color=\"success\">Update Post</v-btn>\r\n                    </v-form>\r\n                </v-card>\r\n            </v-col>\r\n        </v-row>\r\n    </v-container>\r\n</template>\r\n<script>\r\nimport API from '../api'\r\nexport default {\r\n    data(){\r\n        return{\r\n            rules:[(value)=>!!value || \"This is a required field\"],\r\n            post:{\r\n                title:\"\",\r\n                category:\"\",\r\n                content:\"\",\r\n                image:\"\",\r\n            },\r\n            image:\"\",\r\n        };\r\n    },\r\n    async created(){\r\n        const response = await API.getPostByID(this.$route.params.id);\r\n        this.post = response;\r\n    },\r\n    methods:{\r\n        selectFile(file){\r\n            this.image=file[0];\r\n        },\r\n        async updateForm(){\r\n            const formData = new FormData();\r\n            formData.append('image',this.image);\r\n            formData.append('title',this.post.title);\r\n            formData.append('category',this.post.category);\r\n            formData.append('content',this.post.content);\r\n            formData.append('old_image',this.post.image);\r\n            if(this.$refs.form.validate())\r\n            {\r\n                const response = await API.updatePost(this.$route.params.id,formData);\r\n                this.$router.push({name:'home',params:{message:response.message}})\r\n            }\r\n        }\r\n    },\r\n};\r\n</script>"]}]}